<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-debug.js' ></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.4.1/knockout.mapping.js' ></script>

	<script src='/kt/knockthru.js'></script>
</head>
<body>
<div class="container">

    <h1>Tasks</h1>
    
    <table class='table' >
        <tbody data-knockthru='kt.search("Task")', data-bind='foreach: items'>
            <tr>
                <td width='4em'>
                    <input type='checkbox' disabled=disabled data-bind='checked: done'>
                </td>
                <td>
                    <a data-bind='attr: { href: "/task.html?_id=" + _id() }, text : description'></a>
                </td>
                <!--<td><button class='form-control btn-xs'><span class='glyphicon glyphicon-remove' data-bind='click:$parent.delete'></button></td>-->
            </tr>
        </tbody>     
        <tfoot data-knockthru='kt.create("Task")' data-bind='with: item'>
            <tr>
                <td></td>
                <td><input type="text" class="form-control" data-bind='textInput: description, onEnterKey: (description ? $parent.submitCreate : null)' placeholder='Enter Task Description' ></td>
                <td width='20em'><button class='form-control' data-bind='enable: description, click:$parent.submitCreate'>Add</input></td>
            </tr>            
        </tfoot>    
    </table>
    
    <div data-knockthru='kt.search("Task")'>    <!-- this is a second target bound to the same viewmodel as above -->
        <button class='form-control' data-bind='click: refresh'>Refresh</button><br/>
    </div>
     
    <a href='/'>Back to main page</a>
</div>
</body>	
</html>

